<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DESERT: Installation Guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DESERT<span id="projectnumber">&#160;3.6.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('INSTALL1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Installation Guidelines</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="requirements"></a>
Installation requirements</h1>
<p>Before installing the DESERT framework, please check that your host device has the following packages installed:</p>
<p><small> </p><blockquote class="doxtable">
<ul>
<li>build-essential</li>
<li>autoconf</li>
<li>automake</li>
<li>libxmu-dev</li>
<li>libx11-dev</li>
<li>libxmu-dev</li>
<li>libxmu-headers</li>
<li>libxt-dev</li>
<li>libtool</li>
<li>gfortran</li>
<li>bison</li>
<li>flex </li>
</ul>
</blockquote>
<p></small></p>
<h2><a class="anchor" id="debian"></a>
Debian</h2>
<p>If you are using a Debian-based Linux distribution (e.g., Ubuntu, Linux Mint, etc...) , you can type the following command in a terminal, in order to install all dependencies above:</p>
<p><small> </p><pre class="fragment">sudo apt-get install build-essential autoconf automake libxmu-dev libx11-dev libxmu-dev libxmu-headers libxt-dev libtool gfortran bison flex
</pre><p> </small></p>
<h2><a class="anchor" id="arch-requirements"></a>
Archlinux</h2>
<p>If you are using an Arch Linux based distribution, youy can type the following command in a terminal:</p>
<p><small> </p><pre class="fragment">sudo pacman -S base-devel make tk gcc-fortran bison flex autoconf automake libtool patch patchutils
</pre><p> </small></p>
<h2><a class="anchor" id="fed-requirements"></a>
Fedora</h2>
<p>Before installing the DESERT framework in Fedora, check that your host device has the following packages installed:</p>
<p><small> </p><blockquote class="doxtable">
<ul>
<li>C Development Tools and Libraries</li>
<li>gcc-gfortran</li>
<li>libXmu-devel</li>
<li>libX11-devel</li>
<li>patch</li>
<li>patchutils </li>
</ul>
</blockquote>
<p></small></p>
<p>Note that main C develoment tools are installed by installing the package group "C Development Tools and Libraries". To install all the software requirements you can run the following commands in a terminal:</p>
<p><small> </p><pre class="fragment">dnf groupinstall "C Development Tools and Libraries"
</pre><p> </small></p>
<p><small> </p><pre class="fragment">dnf install gcc-gfortran libXmu-devel libX11-devel patch patchutils
</pre><p> </small></p>
<h1><a class="anchor" id="download-install"></a>
Download and install</h1>
<p>The latest version of DESERT can be cloned from the github repository, as follows:</p>
<p><small> </p><pre class="fragment">git clone https://github.com/signetlabdei/DESERT_Underwater
</pre><p> </small></p>
<p>Alternatively, you can download the source code of a specific version from: <a href="https://github.com/signetlabdei/DESERT_Underwater/releases">https://github.com/signetlabdei/DESERT_Underwater/releases</a></p>
<p>To install DESERT Underwater, you can choose between two different approaches:</p>
<ul>
<li><em>wizard</em> mode</li>
<li><em>command-line</em> mode</li>
</ul>
<p>The wizard mode implements an interactive installation procedure. As such, it is easier and more user-friendly than the command-line mode. The command-line mode is recommended for more experienced users. Note that, after completing an installation with the wizard, you will be also provided a command-line string. You can note down this string and enter it at the command prompt in order to reproduce exactly the same installation steps (with the same options, the same packages installed, etc.). When you become more comfortable with DESERT's installation options, you can also modify the automatically generated command-line string to reflect your desired configuration.</p>
<p>To launch the installation in wizard mode, once you have downloaded DESERT, you have to cd into the framework folder by using:</p>
<p><small> </p><pre class="fragment">cd DESERT_Underwater/DESERT_Framework
</pre><p> </small></p>
<p>and run the installer:</p>
<p><small> </p><pre class="fragment">./install.sh --wizard
</pre><p> </small></p>
<p>The procedure will guide you through 6 steps:</p>
<ul>
<li>setting of the installation-target</li>
<li>setting of the installation mode</li>
<li>setting of the destination folder</li>
<li>choose whether or not to install the WOSS libraries</li>
<li>setting of possible custom parameters (OPTIONAL)</li>
<li>selection of the addons to be installed (OPTIONAL)</li>
</ul>
<p>To employ the command-line mode, you need to manually specify all installation settings through the corresponding command-line options. This mode makes it possible to embed the DESERT Underwater installation tool into other custom scripts. For example, if you need to integrate the installation procedure into some more general "installation project", with the "command-line" mode you will find the command-line mode useful.</p>
<p>Here is a list of all options currently available:</p>
<p><small> </p><pre class="fragment">--help
    Print the help and exit

--wizard
    Start the installation procedure in wizard mode

--with-woss
    Only for command-line. Enable the installation of the WOSS libraries

--without-woss
    Only for command-line. Explicitly disable the installation of the WOSS libraries

--target &lt;installation-target-name&gt;
    Only for command-line. This options sets the compilation target.
    From the point of view of the installation tool, passing the target option
    is equivalent to choosing the specific installation script to be used after
    the preliminary settings. The installation scripts are located in
    DESERT_Underwater/DESERT_Framework/Installation/.
    If you create a custom installation script, you must put it in this folder.
    Targets available:
        - LOCAL
        - Raspberry Pi zero
        - EvoLogics-sandbox-debian_armhf

--inst_mode &lt;installation-mode&gt;
    Only for command-line. This option sets whether to install in release mode or
    in development mode. In release mode, after the compilation/cross-compilation
    has been completed, the destination folder will contain only the files strictly
    required to run the DESERT libraries (namely, the bin/ and lib/ folders).
    Conversely, the development mode keeps all source files and build sub-products.
    Note that the source folders are part of an active working copy, which you can
    directly use to develop modules, re-compile code without restarting the
    installation process from scratch, and commit updates to the source code.
    Installation-modes available:
       - development
       - release

--dest_folder &lt;destination-folder-path&gt;
    Only for command-line. This option sets where the installation procedure will
    put all files generated during the compilation process.

--addons &lt;list-of-the-DESERT-addons&gt;
    Only for command-line. This option specifies which addons to Desert Underwater
    should be installed. The available addons are usually found in
    DESERT_Underwater/DESERT_Addons/
    The &lt;list-of-the-DESERT-addons&gt; parameter is composed by the names of any addons
    separated by a white space e.g.,
    ADDON1 ADDON2 ADDON3
    Or if you want to install all of them you can just type
    ALL

--custom_par &lt;list-of-parameters&gt;
    Only for command-line. This option provides a useful means of passing a variable
    list of parameters to a custom installation script. The list-of-parameters is
    composed by all parameters, separated by a white space and enclosed in quotes,
    e.g.,
    "param1 param2 param3"
</pre><p> </small></p>
<p>For instance, the following command will install DESERT on your local machine in development mode with all the addons:</p>
<p><small> </p><pre class="fragment">./install.sh --target LOCAL --inst_mode development --dest_folder &lt;destination-folder-path&gt; --addons ALL
</pre><p> </small></p>
<p>If you encounter any problem while building this library, you can refer to github and open a dedicated issue, that we will investigate.</p>
<p><br  />
</p>
<h2><a class="anchor" id="todoafter"></a>
After the installation has been completed</h2>
<p>When the installation of DESERT Underwater has been successfully completed, you need to update your environment variables by exporting the paths to the bin/ and lib/ folders created in the path specified during the installation. This is required in order to correctly use DESERT and its dependencies (ns, ns-miracle, etc.). This operation is made simpler via the <em>environment</em> file generated at the end of the installation session in the &lt;destination-folder-path&gt; only for the "development" installation-mode. So, by running the following command:</p>
<p><small> </p><pre class="fragment">source &lt;destination-folder-path&gt;/environment
</pre><p> </small></p>
<p>you will be able to call <em>ns</em> and all compiled libraries directly in the shell where you ran the above command. You may want to check the <em>environment</em> script to see what it exactly does. <br  />
 With the "release" installation-mode, instead, you can set the environment via the following command:</p>
<p><small> </p><pre class="fragment">cd &lt;destination-folder-path&gt; &amp;&amp; ./make_environment.sh
</pre><p> </small></p>
<p>before updating your environment variables. The "make_environment.sh" script is particularly useful after the DESERT framework has been cross-compiled and copied into the target device: in this case, the script dynamically generates the environment file in agreement with the destination folder path within the target device.</p>
<p>In order to make the environment update persistant even after you close the terminal, you need to append the source command to your bash configuration file, as follows:</p>
<p><small> </p><pre class="fragment">echo "source &lt;destination-folder-path&gt;/environment" &gt;&gt; $HOME/.bashrc
</pre><p> </small> <br  />
</p>
<h1><a class="anchor" id="docker-install"></a>
Use Docker</h1>
<p>Alternatively to the manual installation, DESERT provide an automatic installation using docker.</p>
<p>You will need to cd to the dockerfile directory</p>
<p><small> </p><pre class="fragment">cd DESERT_Underwater/DESERT_Framework/Docker/ubuntu_dockerfile_with_desert/
</pre><p> </small></p>
<p>And build it</p>
<p><small> </p><pre class="fragment">docker build -t docker_desert .
</pre><p> </small></p>
<p>It will create a container with Ubuntu 22.04 LTS, download all the dependencies and install DESERT with WOSS and all the addons. Finally run the just created container</p>
<p><small> </p><pre class="fragment">docker run -it docker_desert
</pre><p> </small> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
