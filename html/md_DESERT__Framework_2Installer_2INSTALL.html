<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DESERT: Installation Guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DESERT<span id="projectnumber">&#160;4.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_DESERT__Framework_2Installer_2INSTALL.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Installation Guidelines</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md7"></a> </p>
<h1><a class="anchor" id="autotoc_md8"></a>
Installation Requirements</h1>
<p>Before installing the <b>DESERT framework</b>, please check that your host device has the following packages installed:</p>
<ul>
<li>build-essential <br  />
</li>
<li>autoconf <br  />
</li>
<li>automake <br  />
</li>
<li>libxmu-dev <br  />
</li>
<li>libx11-dev <br  />
</li>
<li>libxmu-dev <br  />
</li>
<li>libxmu-headers <br  />
</li>
<li>libxt-dev <br  />
</li>
<li>libxml2-dev</li>
<li>libtool <br  />
</li>
<li>gfortran <br  />
</li>
<li>bison <br  />
</li>
<li>flex <br  />
</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Debian</h2>
<p>If you are using a Debian-based Linux distribution (e.g., Ubuntu, Linux Mint, etc...), you can type the following command in a terminal, in order to install all dependencies above:</p>
<div class="fragment"><div class="line">$ sudo apt-get install build-essential autoconf automake libxmu-dev libx11-dev libxmu-headers libxt-dev libxml2-dev libtool gfortran bison flex</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md10"></a>
Arch Linux</h2>
<p>If you are using an Arch Linux based distribution, you can type the following command in a terminal:</p>
<div class="fragment"><div class="line">$ sudo pacman -S base-devel make tk gcc-fortran bison flex autoconf automake libtool patch patchutils libxml2</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md11"></a>
Fedora</h2>
<p>Before installing the DESERT framework in Fedora, check that your host device has the following packages installed:</p>
<ul>
<li>C Development Tools and Libraries <br  />
</li>
<li>gcc-gfortran <br  />
</li>
<li>libXmu-devel <br  />
</li>
<li>libX11-devel <br  />
</li>
<li>patch <br  />
</li>
<li>patchutils <br  />
</li>
</ul>
<p>Note that main C development tools are installed by installing the package group **"C Development Tools and Libraries"**. <br  />
 To install all the software requirements you can run the following commands in a terminal:</p>
<div class="fragment"><div class="line">$ dnf groupinstall &quot;C Development Tools and Libraries&quot;</div>
</div><!-- fragment --><div class="fragment"><div class="line">$ dnf install gcc-gfortran libXmu-devel libX11-devel patch patchutils libxml2</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12"></a>
Download and install</h1>
<p>The latest version of DESERT can be cloned from the github repository, as follows:</p>
<div class="fragment"><div class="line">$ git clone https://github.com/signetlabdei/DESERT_Underwater</div>
</div><!-- fragment --><p>Alternatively, you can download the source code of a specific version from: <a href="https://github.com/signetlabdei/DESERT_Underwater/releases">https://github.com/signetlabdei/DESERT_Underwater/releases</a></p>
<p>To install DESERT Underwater, you can choose between two different approaches:</p>
<ul>
<li><em>wizard</em> mode</li>
<li><em>command-line</em> mode</li>
</ul>
<p>The wizard mode implements an interactive installation procedure. As such, it is easier and more user-friendly than the command-line mode. The command-line mode is recommended for more experienced users. Note that, after completing an installation with the wizard, you will be also provided a command-line string. You can note down this string and enter it at the command prompt in order to reproduce exactly the same installation steps (with the same options, the same packages installed, etc.). When you become more comfortable with DESERT's installation options, you can also modify the automatically generated command-line string to reflect your desired configuration.</p>
<p>To launch the installation in wizard mode, once you have downloaded DESERT, you have to cd into the framework folder by using:</p>
<div class="fragment"><div class="line">$ cd DESERT_Underwater/DESERT_Framework</div>
</div><!-- fragment --><p>and run the installer:</p>
<div class="fragment"><div class="line">$ ./install.sh --wizard</div>
</div><!-- fragment --><p>The procedure will guide you through 6 steps:</p>
<ul>
<li>setting of the installation-target</li>
<li>setting of the installation mode</li>
<li>setting of the destination folder</li>
<li>choose whether or not to install the WOSS libraries</li>
<li>setting of possible custom parameters (OPTIONAL)</li>
<li>selection of the addons to be installed (OPTIONAL)</li>
</ul>
<p>To employ the command-line mode, you need to manually specify all installation settings through the corresponding command-line options. This mode makes it possible to embed the DESERT Underwater installation tool into other custom scripts. For example, if you need to integrate the installation procedure into some more general "installation project", with the "command-line" mode you will find the command-line mode useful.</p>
<p>Here is a list of all options currently available:</p>
<div class="fragment"><div class="line">--help</div>
<div class="line">    Print the help and exit</div>
<div class="line"> </div>
<div class="line">--wizard</div>
<div class="line">    Start the installation procedure in wizard mode</div>
<div class="line"> </div>
<div class="line">--with-woss</div>
<div class="line">    Only for command-line. Enable the installation of the WOSS libraries</div>
<div class="line"> </div>
<div class="line">--without-woss</div>
<div class="line">    Only for command-line. Explicitly disable the installation of the WOSS libraries</div>
<div class="line"> </div>
<div class="line">--target &lt;installation-target-name&gt;</div>
<div class="line">    Only for command-line. This options sets the compilation target.</div>
<div class="line">    From the point of view of the installation tool, passing the target option</div>
<div class="line">    is equivalent to choosing the specific installation script to be used after</div>
<div class="line">    the preliminary settings. The installation scripts are located in</div>
<div class="line">    DESERT_Underwater/DESERT_Framework/Installation/.</div>
<div class="line">    If you create a custom installation script, you must put it in this folder.</div>
<div class="line">    Targets available:</div>
<div class="line">        - LOCAL</div>
<div class="line">        - Raspberry Pi zero</div>
<div class="line">        - EvoLogics-sandbox-debian_armhf</div>
<div class="line"> </div>
<div class="line">--inst_mode &lt;installation-mode&gt;</div>
<div class="line">    Only for command-line. This option sets whether to install in release mode or</div>
<div class="line">    in development mode. In release mode, after the compilation/cross-compilation</div>
<div class="line">    has been completed, the destination folder will contain only the files strictly</div>
<div class="line">    required to run the DESERT libraries (namely, the bin/ and lib/ folders).</div>
<div class="line">    Conversely, the development mode keeps all source files and build sub-products.</div>
<div class="line">    Note that the source folders are part of an active working copy, which you can</div>
<div class="line">    directly use to develop modules, re-compile code without restarting the</div>
<div class="line">    installation process from scratch, and commit updates to the source code.</div>
<div class="line">    Installation-modes available:</div>
<div class="line">       - development</div>
<div class="line">       - release</div>
<div class="line"> </div>
<div class="line">--dest_folder &lt;destination-folder-path&gt;</div>
<div class="line">    Only for command-line. This option sets where the installation procedure will</div>
<div class="line">    put all files generated during the compilation process.</div>
<div class="line"> </div>
<div class="line">--addons &lt;list-of-the-DESERT-addons&gt;</div>
<div class="line">    Only for command-line. This option specifies which addons to Desert Underwater</div>
<div class="line">    should be installed. The available addons are usually found in</div>
<div class="line">    DESERT_Underwater/DESERT_Addons/</div>
<div class="line">    The &lt;list-of-the-DESERT-addons&gt; parameter is composed by the names of any addons</div>
<div class="line">    separated by a white space e.g.,</div>
<div class="line">    ADDON1 ADDON2 ADDON3</div>
<div class="line">    Or if you want to install all of them you can just type</div>
<div class="line">    ALL</div>
<div class="line"> </div>
<div class="line">--custom_par &lt;list-of-parameters&gt;</div>
<div class="line">    Only for command-line. This option provides a useful means of passing a variable</div>
<div class="line">    list of parameters to a custom installation script. The list-of-parameters is</div>
<div class="line">    composed by all parameters, separated by a white space and enclosed in quotes,</div>
<div class="line">    e.g.,</div>
<div class="line">    &quot;param1 param2 param3&quot;</div>
</div><!-- fragment --><p>For instance, the following command will install DESERT on your local machine in development mode with all the addons:</p>
<div class="fragment"><div class="line">$ ./install.sh --target LOCAL --inst_mode development --dest_folder &lt;destination-folder-path&gt; --addons ALL</div>
</div><!-- fragment --><p>If you encounter any problem while building this library, you can refer to github and open a dedicated issue, that we will investigate.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
After the installation has been completed</h2>
<p>When the installation of DESERT Underwater has been successfully completed, you need to update your environment variables by exporting the paths to the bin/ and lib/ folders created in the path specified during the installation. This is required in order to correctly use DESERT and its dependencies (ns, ns-miracle, etc.). This operation is made simpler via the <em>environment</em> file generated at the end of the installation session in the &lt;destination-folder-path&gt; only for the "development" installation-mode. So, by running the following command:</p>
<div class="fragment"><div class="line">$ source &lt;destination-folder-path&gt;/environment</div>
</div><!-- fragment --><p>you will be able to call <em>ns</em> and all compiled libraries directly in the shell where you ran the above command. You may want to check the <em>environment</em> script to see what it exactly does.</p>
<p>With the "release" installation-mode, instead, you can set the environment via the following command:</p>
<div class="fragment"><div class="line">$ cd &lt;destination-folder-path&gt; &amp;&amp; ./make_environment.sh</div>
</div><!-- fragment --><p>Before updating your environment variables. The "make_environment.sh" script is particularly useful after the DESERT framework has been cross-compiled and copied into the target device: in this case, the script dynamically generates the environment file in agreement with the destination folder path within the target device.</p>
<p>In order to make the environment update persistent even after you close the terminal, you need to append the source command to your bash configuration file, as follows:</p>
<div class="fragment"><div class="line">$ echo &quot;source &lt;destination-folder-path&gt;/environment&quot; &gt;&gt; $HOME/.bashrc</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md14"></a>
Use Docker</h1>
<p>Alternatively to the manual installation, DESERT provide an automatic installation using docker.</p>
<p>You will need to cd to the dockerfile directory</p>
<div class="fragment"><div class="line">$ cd DESERT_Underwater/DESERT_Framework/Docker/ubuntu_dockerfile_with_desert/</div>
</div><!-- fragment --><p>And build it</p>
<div class="fragment"><div class="line">$ docker build -t docker_desert .</div>
</div><!-- fragment --><p>It will create a container with Ubuntu 22.04 LTS, download all the dependencies and install DESERT with WOSS and all the addons. Finally run the just created container</p>
<div class="fragment"><div class="line">$ docker run -it docker_desert</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
